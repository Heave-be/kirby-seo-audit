(function(){"use strict";const l=window.Vue;function D(){return window.panel}function W(){return D().api}function G(){const r=W();return{load:({parent:n,name:e})=>r.get(`${n}/sections/${e}`)}}function I(){var s;return((s=l.getCurrentInstance())==null?void 0:s.proxy).$store}const $=l.computed;l.customRef,l.defineAsyncComponent,l.defineComponent,l.effectScope,l.getCurrentInstance,l.getCurrentScope,l.h,l.inject,l.isProxy,l.isReactive,l.isReadonly,l.isRef,l.isShallow,l.markRaw,l.nextTick,l.onActivated,l.onBeforeMount,l.onBeforeUnmount,l.onBeforeUpdate,l.onDeactivated,l.onErrorCaptured,l.onMounted,l.onRenderTracked,l.onRenderTriggered,l.onScopeDispose,l.onServerPrefetch,l.onUnmounted,l.onUpdated,l.provide,l.proxyRefs,l.reactive,l.readonly;const v=l.ref;l.shallowReactive,l.shallowReadonly,l.shallowRef,l.toRaw,l.toRef,l.toRefs,l.triggerRef,l.unref,l.useAttrs,l.useCssModule,l.useCssVars,l.useListeners,l.useSlots;const O=l.watch;l.watchEffect,l.watchPostEffect,l.watchSyncEffect;const V={blueprint:String,lock:[Boolean,Object],help:String,name:String,parent:String,timestamp:Number};function z(r,s,n,e,t,o,i,f){var a=typeof r=="function"?r.options:r;s&&(a.render=s,a.staticRenderFns=n,a._compiled=!0),e&&(a.functional=!0),o&&(a._scopeId="data-v-"+o);var u;if(i?(u=function(c){c=c||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!c&&typeof __VUE_SSR_CONTEXT__<"u"&&(c=__VUE_SSR_CONTEXT__),t&&t.call(this,c),c&&c._registeredComponents&&c._registeredComponents.add(i)},a._ssrRegister=u):t&&(u=f?function(){t.call(this,(a.functional?this.parent:this).$root.$options.shadowRoot)}:t),u)if(a.functional){a._injectStyles=u;var h=a.render;a.render=function(_,m){return u.call(m),h(_,m)}}else{var d=a.beforeCreate;a.beforeCreate=d?[].concat(d,u):[u]}return{exports:r,options:a}}const J={...V},he=Object.assign({inheritAttrs:!1},{__name:"BlueprintCode",props:J,setup(r){const s=r,n=v({});(async()=>{const{load:i}=G();n.value=await i({parent:s.parent,name:s.name})})();const e=I(),t=$(()=>e.getters["content/values"]()),o=$(()=>`
seoAudit:
  type: seo-audit
  # Optional property for keyphrase assessments
  keyphraseField: metaKeyphrase
  # Optional property to add keyword/keyphrase synonyms
  synonymsField: metaSynonyms
  links: ${t.value.links}
  ${Array.isArray(t.value.assessments)&&t.value.assessments.length?`assessments:
${t.value.assessments.map(i=>`    - ${i}`).join(`
`)}`:""}
`.trim());return{__sfc:!0,propsDefinition:J,props:s,data:n,store:e,currentContent:t,code:o}}});var pe=function(){var s=this,n=s._self._c,e=s._self._setupProxy;return n("k-section",{staticClass:"ksr-space-y-2",attrs:{label:e.data.label}},[n("k-code",{attrs:{language:"yaml"}},[s._v(s._s(e.code))]),e.data.help?n("k-text",{staticClass:"k-help"},[s._v(" "+s._s(e.data.help)+" ")]):s._e()],1)},ye=[],ge=z(he,pe,ye,!1,null,null,null,null);const me=ge.exports;function _e(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function ve(r,s){let n,e=0;return function(...o){clearTimeout(n);const i=Date.now(),f=i-e,a=s-f;a<=0?(e=i,r.apply(this,o)):n=setTimeout(()=>{e=Date.now(),r.apply(this,o)},a)}}var be=ve;const Se=_e(be),we=["TaxonomyTextLengthAssessment","UrlLengthAssessment","UrlStopWordsAssessment","SingleH1Assessment"],ke={FleschReadingEaseAssessment:"fleschReading",SentenceLengthInTextAssessment:"sentenceLength"},Ae=["FunctionWordsInKeyphraseAssessment","IntroductionKeywordAssessment","KeyphraseLengthAssessment","KeywordDensityAssessment","KeyphraseDistributionAssessment","MetaDescriptionKeywordAssessment","SubheadingsKeywordAssessment","TitleKeywordAssessment","UrlKeywordAssessment"],L=Object.freeze({af:"af-ZA",ar:"ar-SA",az:"az-Latn-AZ",be:"be-BY",bg:"bg-BG",ca:"ca-ES",cs:"cs-CZ",da:"da-DK",de:"de-DE",dv:"dv-MV",el:"el-GR",en:"en-US",es:"es-ES",et:"et-EE",eu:"eu-ES",fa:"fa-IR",fi:"fi-FI",fo:"fo-FO",fr:"fr-FR",gl:"gl-ES",gu:"gu-IN",he:"he-IL",hi:"hi-IN",hr:"hr-HR",hu:"hu-HU",hy:"hy-AM",id:"id-ID",is:"is-IS",it:"it-IT",ja:"ja-JP",ka:"ka-GE",kk:"kk-KZ",kn:"kn-IN",ko:"ko-KR",kok:"kok-IN",ky:"ky-KG",lt:"lt-LT",lv:"lv-LV",mk:"mk-MK",mn:"mn-MN",mr:"mr-IN",ms:"ms-MY",nl:"nl-NL",no:"nb-NO",pa:"pa-IN",pl:"pl-PL",pt:"pt-BR",ro:"ro-RO",ru:"ru-RU",sa:"sa-IN",sk:"sk-SK",sl:"sl-SI",sq:"sq-AL",sr:"sr-Latn-CS",sv:"sv-SE",sw:"sw-KE",syr:"syr-SY",ta:"ta-IN",te:"te-IN",th:"th-TH",tr:"tr-TR",tt:"tt-RU",uk:"uk-UA",ur:"ur-PK",uz:"uz-Latn-UZ",vi:"vi-VN"}),xe=["error","warn","info","debug"],Re="kirby$seo-audit$";class Ce{constructor(){this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c0392b",1:"#f39c12",2:"#00BCD4"},this.typeColorMap={success:"#2ecc71"}}_getLogFn(s){return s<1?console.error:console.log}log(s){const n=this._getLogFn(s.level),e=s.type==="log"?"":s.type,t=s.tag||"",i=`
  background: ${this.typeColorMap[s.type]||this.levelColorMap[s.level]||this.defaultColor};
  border-radius: 0.5em;
  color: white;
  font-weight: bold;
  padding: 2px 0.5em;
`.trimStart(),f=`%c${[t,e].filter(Boolean).join(":")}`;typeof s.args[0]=="string"?n(`${f}%c ${s.args[0]}`,i,"",...s.args.slice(1)):n(f,i,...s.args)}}const $e={error:0,warn:1,info:2};function Be(r){const s=new Ce;return new Proxy({},{get(n,e){return(...t)=>{s.log({level:$e[e],type:e,tag:r,args:t})}}})}let Te;function Ee(){return Te??(Te=Be("seo-audit"))}let H=[];const P=new Map;async function Le(r){if(!Array.isArray(r))throw new TypeError("Expected an array of assets");H.length>0||(H=r)}function Oe(r){if(H.length===0)throw new Error("Plugin assets are not registered");const s=H.find(n=>n.filename===r);if(!s)throw new Error(`Plugin asset "${r}" not found`);return s}async function F(r){if(r.endsWith(".js")||(r+=".js"),P.has(r))return P.get(r);const n=await import(Oe(r).url);return P.set(r,n),n}async function Y(r){const s=await r;return s.default||s}var Z={};Object.defineProperty(Z,"__esModule",{value:!0});var j=Z.default={sentenceLength:{recommendedWordCount:20,slightlyTooMany:25,farTooMany:30},fleschReading:{borders:{veryEasy:90,easy:80,fairlyEasy:70,okay:60,fairlyDifficult:50,difficult:30,veryDifficult:0},scores:{veryEasy:9,easy:9,fairlyEasy:9,okay:9,fairlyDifficult:6,difficult:3,veryDifficult:3}}};const ze={AltAttributeAssessment:{_label:"Alt-Attribut für Bilder",na:"Der Text enthält keine Bilder.",none:"Keines der {imagesWithoutAltAttribute} Bilder enthält ein Attribut für alternativen Text. Fügen Sie sie hinzu!",some:"Einige der {imagesWithoutAltAttribute} Bilder enthalten ein Attribut für alternativen Text. Fügen Sie sie hinzu!",every:"Alle Bilder enthalten ein Attribut für alternativen Text. Gute Arbeit!"},HeadingStructureOrderAssessment:{_label:"Reihenfolge der Überschriften",sequential:"Die Überschriftenstruktur ist in sequenzieller Reihenfolge. Gute Arbeit!",nonSequential:"Die Überschriftenstruktur ist nicht in sequenzieller Reihenfolge. Korrigieren Sie Ihre Überschriftenstruktur!"},SingleH1Assessment:{_label:"Einzelne H1",one:"Der Text enthält einen H1-Tag. Gute Arbeit!",multiple:"Der Text enthält mehrere H1-Tags. Überdenken Sie Ihre Überschriftenstruktur!",none:"Der Text enthält keinen H1-Tag. Fügen Sie ihn hinzu!"}},He={AltAttributeAssessment:{_label:"Image alt attribute",na:"The text doesn't contain any images.",none:"None of the {imagesWithoutAltAttribute} images contain an alternative text attribute. Add them!",some:"Some of the {imagesWithoutAltAttribute} images contain an alternative text attribute. Add them!",every:"All images contain an alternative text attribute. Good job!"},HeadingStructureOrderAssessment:{_label:"Heading structure",sequential:"The heading structure is in sequential order. Good job!",nonSequential:"The heading structure is not in sequential order. Fix your heading structure!"},SingleH1Assessment:{_label:"Single H1",one:"The text contains a single H1 tag. Good job!",multiple:"The text contains multiple H1 tags. Rethink your heading structure!",none:"The text contains no H1 tag. Add it!"}};function X(r,s,n){if(!r)return n;let e,t;if(Array.isArray(s)?e=[...s]:typeof s=="string"?e=s.split("."):typeof s=="symbol"&&(e=[s]),!Array.isArray(e))throw new TypeError(`Expected props to be an array, a string or a symbol, got ${typeof e}`);for(;e.length;)if(t=e.shift(),!r||(r=r[t],r===void 0))return n;return r}function Fe(r,s,n){return r.replace(/{([\w\d]+)}/g,(e,t)=>s[t.toLowerCase()]||((typeof n=="function"?n(t):n)??t))}function Me({htmlDocument:r,contentSelector:s}){const n=K(`${s} h1`,r);return{score:n.length===1?9:3,translation:n.length===1?"one":n.length>1?"multiple":"none"}}function Ne({htmlDocument:r,contentSelector:s}){const n=K(`${s} img`,r);if(n.length===0)return{score:9,translation:"na"};const t=n.filter(o=>o.getAttribute("alt")===null).length;return{score:t===n.length||t>0?3:9,translation:t===n.length?"none":t>0?"some":"every",...t>0&&{context:{imagesWithoutAltAttribute:t}}}}function De({htmlDocument:r,contentSelector:s}){const n=K(`${s} h1, ${s} h2, ${s} h3, ${s} h4, ${s} h5, ${s} h6`,r);let e=0;const t=[];for(const i of n){const f=Number.parseInt(i.tagName.substring(1),10);f-e>1&&t.push(i),e=f}const o=t.length===0;return{score:o?9:3,translation:o?"sequential":"nonSequential",...!o&&{details:{text:`<ul>${t.map(i=>`<li><strong>${i.tagName}</strong>: ${i.innerText}</li>`)}</ul>`}}}}function K(r,s){return Array.from(s.querySelectorAll(r))}const Q={de:ze,en:He},Ie={seo:{AltAttributeAssessment:Ne,HeadingStructureOrderAssessment:De,SingleH1Assessment:Me}};function Pe({htmlDocument:r,contentSelector:s,assessments:n,locale:e}){const t=Q[e]||Q.en,o={};for(const[i,f]of Object.entries(Ie)){const a=[];for(const[u,h]of Object.entries(f)){if(n.length>0&&!n.includes(u.toLowerCase()))continue;const{score:d,translation:c,context:_={},details:m}=h({htmlDocument:r,contentSelector:s}),A=X(t,`${u}.${c}`);if(!A)continue;const b=X(t,`${u}._label`,u),S=Object.fromEntries(Object.entries(_).map(([x,w])=>[x.toLowerCase(),w]));a.push({score:d,rating:ee(d),text:`${b}: ${Fe(A,S)}`,details:m})}o[i]=a}return o}async function je({htmlDocument:r,contentSelector:s,options:n,translations:e}){var c;const t=await F("yoastseo"),{Jed:o}=await F("jed"),i=await Y(F("string-pixel-width")),f=((c=r.querySelector(s))==null?void 0:c.innerHTML)||"",a=new t.Paper(f,{keyword:n.keyword,synonyms:n.synonyms.join(","),url:new URL(n.url).pathname,permalink:n.url,title:n.title,titleWidth:n.title?i(n.title,{font:"arial",size:20}):void 0,description:n.description,locale:n.langCulture.replace("-","_")}),u=new t.Researcher(a),h=new o({domain:"js-text-analysis",locale_data:{"js-text-analysis":e||{"":{}}}}),d=Object.entries(t.assessments).reduce((_,[m,A])=>{for(const[b,S]of Object.entries(A))if(!we.includes(b)&&!(!n.keyword&&n.assessments.length===0&&Ae.includes(b))&&!(n.assessments.length>0&&!n.assessments.includes(b.toLowerCase()))){if(typeof S=="object"&&Object.prototype.hasOwnProperty.call(S,"getResult")){const x=S.getResult(a,u,h);_[m].push(x)}else if(typeof S=="function"){const x=ke[b],w=(j==null?void 0:j[x])||{},T=new S(w).getResult(a,u,h);_[m].push(T)}}return _},{seo:[],readability:[]});for(const _ of Object.keys(d))d[_]=d[_].filter(m=>m.text).map(m=>({score:m.score,rating:ee(m.score),text:m.text}));return d}function ee(r){return r===-1?"error":r===0?"feedback":r<=4?"bad":r<=7?"ok":r>7?"good":""}async function Ke(r){var i,f,a;const n=new DOMParser().parseFromString(r,"text/html");for(const u of Array.from(n.body.querySelectorAll("script, style")))u.remove();let e=n.documentElement.lang??L.en;e.includes("-")||(e=(L==null?void 0:L[e.toLowerCase()])??L.en);const t=n.title||((i=n.querySelector("h1"))==null?void 0:i.innerText)||((f=n.querySelector("h2"))==null?void 0:f.innerText)||"",o=((a=n.querySelector('meta[name="description"]'))==null?void 0:a.content)||"";return{htmlDocument:n,locale:e,title:t,description:o}}function Ue(){const r=I(),s=$(()=>r.getters["content/values"]());return{generateReport:async(e,t,o)=>{const i=await Y(F("yoastseo-translations"));o.assessments=o.assessments.map(d=>{let c=d.toLowerCase();return c.endsWith("assessment")||(c+="assessment"),c});const f=s.value.language,a={seo:[],readability:[]},u=Pe({htmlDocument:e,contentSelector:t,assessments:o.assessments,locale:f});for(const[d,c]of Object.entries(u))a[d]=a[d].concat(c);const h=await je({htmlDocument:e,contentSelector:t,options:o,translations:i[f]});for(const[d,c]of Object.entries(h))a[d]=a[d].concat(c);return a}}}const te=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function qe(r,s){s?s={...te,...s}:s=te;const n=se(s);return n.dispatch(r),n.toString()}const We=Object.freeze(["prototype","__proto__","constructor"]);function se(r){let s="",n=new Map;const e=t=>{s+=t};return{toString(){return s},getContext(){return n},dispatch(t){return r.replacer&&(t=r.replacer(t)),this[t===null?"null":typeof t](t)},object(t){if(t&&typeof t.toJSON=="function")return this.object(t.toJSON());const o=Object.prototype.toString.call(t);let i="";const f=o.length;f<10?i="unknown:["+o+"]":i=o.slice(8,f-1),i=i.toLowerCase();let a=null;if((a=n.get(t))===void 0)n.set(t,n.size);else return this.dispatch("[CIRCULAR:"+a+"]");if(typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(t))return e("buffer:"),e(t.toString("utf8"));if(i!=="object"&&i!=="function"&&i!=="asyncfunction")this[i]?this[i](t):r.ignoreUnknown||this.unkown(t,i);else{let u=Object.keys(t);r.unorderedObjects&&(u=u.sort());let h=[];r.respectType!==!1&&!re(t)&&(h=We),r.excludeKeys&&(u=u.filter(c=>!r.excludeKeys(c)),h=h.filter(c=>!r.excludeKeys(c))),e("object:"+(u.length+h.length)+":");const d=c=>{this.dispatch(c),e(":"),r.excludeValues||this.dispatch(t[c]),e(",")};for(const c of u)d(c);for(const c of h)d(c)}},array(t,o){if(o=o===void 0?r.unorderedArrays!==!1:o,e("array:"+t.length+":"),!o||t.length<=1){for(const a of t)this.dispatch(a);return}const i=new Map,f=t.map(a=>{const u=se(r);u.dispatch(a);for(const[h,d]of u.getContext())i.set(h,d);return u.toString()});return n=i,f.sort(),this.array(f,!1)},date(t){return e("date:"+t.toJSON())},symbol(t){return e("symbol:"+t.toString())},unkown(t,o){if(e(o),!!t&&(e(":"),t&&typeof t.entries=="function"))return this.array(Array.from(t.entries()),!0)},error(t){return e("error:"+t.toString())},boolean(t){return e("bool:"+t)},string(t){e("string:"+t.length+":"),e(t)},function(t){e("fn:"),re(t)?this.dispatch("[native]"):this.dispatch(t.toString()),r.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(t.name)),r.respectFunctionProperties&&this.object(t)},number(t){return e("number:"+t)},xml(t){return e("xml:"+t.toString())},null(){return e("Null")},undefined(){return e("Undefined")},regexp(t){return e("regex:"+t.toString())},uint8array(t){return e("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},uint8clampedarray(t){return e("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},int8array(t){return e("int8array:"),this.dispatch(Array.prototype.slice.call(t))},uint16array(t){return e("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},int16array(t){return e("int16array:"),this.dispatch(Array.prototype.slice.call(t))},uint32array(t){return e("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},int32array(t){return e("int32array:"),this.dispatch(Array.prototype.slice.call(t))},float32array(t){return e("float32array:"),this.dispatch(Array.prototype.slice.call(t))},float64array(t){return e("float64array:"),this.dispatch(Array.prototype.slice.call(t))},arraybuffer(t){return e("arraybuffer:"),this.dispatch(new Uint8Array(t))},url(t){return e("url:"+t.toString())},map(t){e("map:");const o=[...t];return this.array(o,r.unorderedSets!==!1)},set(t){e("set:");const o=[...t];return this.array(o,r.unorderedSets!==!1)},file(t){return e("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},blob(){if(r.ignoreUnknown)return e("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},domwindow(){return e("domwindow")},bigint(t){return e("bigint:"+t.toString())},process(){return e("process")},timer(){return e("timer")},pipe(){return e("pipe")},tcp(){return e("tcp")},udp(){return e("udp")},tty(){return e("tty")},statwatcher(){return e("statwatcher")},securecontext(){return e("securecontext")},connection(){return e("connection")},zlib(){return e("zlib")},context(){return e("context")},nodescript(){return e("nodescript")},httpparser(){return e("httpparser")},dataview(){return e("dataview")},signal(){return e("signal")},fsevent(){return e("fsevent")},tlswrap(){return e("tlswrap")}}}const ne="[native code] }",Ge=ne.length;function re(r){return typeof r!="function"?!1:Function.prototype.toString.call(r).slice(-Ge)===ne}class C{constructor(s,n){s=this.words=s||[],this.sigBytes=n===void 0?s.length*4:n}toString(s){return(s||Ve).stringify(this)}concat(s){if(this.clamp(),this.sigBytes%4)for(let n=0;n<s.sigBytes;n++){const e=s.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=e<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<s.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=s.words[n>>>2];return this.sigBytes+=s.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new C([...this.words])}}const Ve={stringify(r){const s=[];for(let n=0;n<r.sigBytes;n++){const e=r.words[n>>>2]>>>24-n%4*8&255;s.push((e>>>4).toString(16),(e&15).toString(16))}return s.join("")}},Je={stringify(r){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[];for(let e=0;e<r.sigBytes;e+=3){const t=r.words[e>>>2]>>>24-e%4*8&255,o=r.words[e+1>>>2]>>>24-(e+1)%4*8&255,i=r.words[e+2>>>2]>>>24-(e+2)%4*8&255,f=t<<16|o<<8|i;for(let a=0;a<4&&e*8+a*6<r.sigBytes*8;a++)n.push(s.charAt(f>>>6*(3-a)&63))}return n.join("")}},Ye={parse(r){const s=r.length,n=[];for(let e=0;e<s;e++)n[e>>>2]|=(r.charCodeAt(e)&255)<<24-e%4*8;return new C(n,s)}},Ze={parse(r){return Ye.parse(unescape(encodeURIComponent(r)))}};class Xe{constructor(){this._data=new C,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new C,this._nDataBytes=0}_append(s){typeof s=="string"&&(s=Ze.parse(s)),this._data.concat(s),this._nDataBytes+=s.sigBytes}_doProcessBlock(s,n){}_process(s){let n,e=this._data.sigBytes/(this.blockSize*4);s?e=Math.ceil(e):e=Math.max((e|0)-this._minBufferSize,0);const t=e*this.blockSize,o=Math.min(t*4,this._data.sigBytes);if(t){for(let i=0;i<t;i+=this.blockSize)this._doProcessBlock(this._data.words,i);n=this._data.words.splice(0,t),this._data.sigBytes-=o}return new C(n,o)}}class Qe extends Xe{update(s){return this._append(s),this._process(),this}finalize(s){s&&this._append(s)}}const oe=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],et=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],B=[];class tt extends Qe{constructor(){super(...arguments),this._hash=new C([...oe])}reset(){super.reset(),this._hash=new C([...oe])}_doProcessBlock(s,n){const e=this._hash.words;let t=e[0],o=e[1],i=e[2],f=e[3],a=e[4],u=e[5],h=e[6],d=e[7];for(let c=0;c<64;c++){if(c<16)B[c]=s[n+c]|0;else{const w=B[c-15],T=(w<<25|w>>>7)^(w<<14|w>>>18)^w>>>3,R=B[c-2],k=(R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10;B[c]=T+B[c-7]+k+B[c-16]}const _=a&u^~a&h,m=t&o^t&i^o&i,A=(t<<30|t>>>2)^(t<<19|t>>>13)^(t<<10|t>>>22),b=(a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25),S=d+b+_+et[c]+B[c],x=A+m;d=h,h=u,u=a,a=f+S|0,f=i,i=o,o=t,t=S+x|0}e[0]=e[0]+t|0,e[1]=e[1]+o|0,e[2]=e[2]+i|0,e[3]=e[3]+f|0,e[4]=e[4]+a|0,e[5]=e[5]+u|0,e[6]=e[6]+h|0,e[7]=e[7]+d|0}finalize(s){super.finalize(s);const n=this._nDataBytes*8,e=this._data.sigBytes*8;return this._data.words[e>>>5]|=128<<24-e%32,this._data.words[(e+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(e+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function st(r){return new tt().finalize(r).toString(Je)}function nt(r,s={}){const n=typeof r=="string"?r:qe(r,s);return st(n).slice(0,10)}function rt(...r){return`${Re}${nt([...r])}`}const ot={__name:"SeoRatingBubble",props:{rating:{type:String,required:!0}},setup(r){return{__sfc:!0,colorMap:{good:"green",ok:"orange",bad:"red"}}}};var at=function(){var s=this,n=s._self._c,e=s._self._setupProxy;return n("div",{staticClass:"ksr-mt-[0.375em] ksr-h-[12px] ksr-w-[12px] ksr-rounded-full",style:{backgroundColor:`var(--color-${e.colorMap[s.rating]??"gray"}-600)`}},[n("span",{staticClass:"ksr-sr-only"},[s._v(s._s(s.rating))])])},it=[],lt=z(ot,at,it,!1,null,null,null,null);const ct=lt.exports,ut={__name:"SeoResultEntry",props:{result:{type:Object,required:!0},links:{type:Boolean,default:!0}},setup(r){const s=r,n=D(),e=$(()=>{const o=s.result.text.replace(/!$/,".");return s.links?o:t(o)});function t(o){return new DOMParser().parseFromString(o,"text/html").body.textContent||""}return{__sfc:!0,props:s,panel:n,parseText:e,stripTags:t,SeoRatingBubble:ct}}};var ft=function(){var s=this,n=s._self._c,e=s._self._setupProxy;return n("div",{staticClass:"ksr-flex ksr-items-start ksr-gap-2"},[n(e.SeoRatingBubble,{staticClass:"ksr-mx-1 ksr-shrink-0",attrs:{rating:s.result.rating}}),n("div",[n("div",{domProps:{innerHTML:s._s(e.parseText)}}),s.result.details?n("details",[n("summary",[s._v(s._s(e.panel.t("johannschopplich.seo-audit.issues")))]),n("div",{staticClass:"ksr-mb-1 ksr-rounded-[var(--rounded)] ksr-bg-[var(--color-border)] ksr-py-0.5",domProps:{innerHTML:s._s(s.result.details.text)}})]):s._e()])],1)},dt=[],ht=z(ut,ft,dt,!1,null,null,null,null);const pt=ht.exports,ae={...V},yt=Object.assign({inheritAttrs:!1},{__name:"SeoAudit",props:ae,setup(r){const s=r,n=D(),e=W(),t=I(),o=Ee(),{generateReport:i}=Ue(),f=rt(n.view.path);let a;const u=v(),h=v(),d=v(),c=v(),_=v(),m=v(),A=v(),b=v(),S=v(),x=v(),w=v(!1),T=v(!1),R=v(),k=$(()=>t.getters["content/values"]()),ie=$(()=>h.value||k.value[d.value]||""),le=$(()=>{if(!c.value&&!_.value)return[];const p=c.value||k.value[_.value];return Array.isArray(p)?p:typeof p=="string"?p.split(",").map(g=>g.trim()):[]});O(()=>n.language.code,()=>{U()}),U(!0);{const p=Se(q,1e3);O(()=>k.value.assessments,(g,y)=>{JSON.stringify(g)!==JSON.stringify(y)&&p()}),O(()=>k.value.language,(g,y)=>{g!==y&&q()}),O(()=>k.value.links,g=>{A.value=g})}const{format:bt}=new Intl.DateTimeFormat(n.translation.code.replace("_","-"),{dateStyle:"short",timeStyle:"short"});async function U(p=!1){const{load:g}=G(),y=await g({parent:s.parent,name:s.name});if(p){if(u.value=ce(y.label)||n.t("johannschopplich.seo-audit.label"),d.value=y.keyphraseField,_.value=y.synonymsField,m.value=y.assessments,A.value=y.links,b.value=y.persisted,S.value=xe.indexOf(y.config.logLevel??y.logLevel),x.value=y.config,Le(y.assets),b.value){const M=JSON.parse(localStorage.getItem(f));M&&(R.value=M)}w.value=!0}h.value=y.keyphrase,c.value=y.synonyms,a=(await e.get(n.view.path,{select:"previewUrl"})).previewUrl}function ce(p){return!p||typeof p=="string"?p:p[n.translation.code]??Object.values(p)[0]}async function q(){if(!k.value.targeturl){n.notification.error("Please enter a target URL to be analyzed.");return}if(!a){n.notification.error(n.t("johannschopplich.seo-audit.error.missingPreviewUrl"));return}const p=k.value.targeturl;n.isLoading=!0,T.value=!0;try{const g=await fe(p),y="body",{htmlDocument:E,locale:M,title:St,description:wt}=await Ke(g),N=await i(E,y,{assessments:k.value.assessments,url:p,title:St,description:wt,langCulture:M,keyword:ie.value,synonyms:le.value});for(const de of Object.keys(N))N[de]=ue(N[de]);R.value={result:N,timestamp:Date.now()},b.value&&localStorage.setItem(f,JSON.stringify(R.value))}catch(g){console.error(g),n.notification.error(n.t("johannschopplich.seo-audit.analyze.error"))}n.isLoading=!1,T.value=!1,n.notification.success({icon:"check",message:n.t("johannschopplich.seo-audit.analyze.success")})}function ue(p){return p.toSorted((g,y)=>g.rating==="feedback"?-1:y.rating==="feedback"?1:g.score<y.score?-1:1)}async function fe(p){if(location.origin===new URL(p).origin){const E=await fetch(p);return E.ok||o.warn(`Response status code ${E.status} for URL ${p} is an indication that the error page is being analyzed.`),await E.text()}const{code:g,html:y}=await e.post("__seo-audit__/proxy",{url:p});return g!==200&&o.warn(`Response status code ${g} for URL ${p} is an indication that the error page is being analyzed.`),y}return{__sfc:!0,propsDefinition:ae,props:s,panel:n,api:e,store:t,logger:o,generateReport:i,storageKey:f,previewUrl:a,label:u,keyphrase:h,keyphraseField:d,synonyms:c,synonymsField:_,assessments:m,links:A,persisted:b,logLevel:S,config:x,isInitialized:w,isGenerating:T,report:R,currentContent:k,resolvedKeyphrase:ie,resolvedSynonyms:le,format:bt,updateSectionData:U,t:ce,analyze:q,sortResults:ue,fetchHtml:fe,SeoResultEntry:pt}}});var gt=function(){var s=this,n=s._self._c,e=s._self._setupProxy;return e.isInitialized?n("k-section",{attrs:{label:e.label}},[n("div",{staticClass:"ksr-space-y-4"},[n("k-button-group",{attrs:{layout:"collapsed"}},[n("k-button",{attrs:{icon:e.isGenerating?"loader":"seo-audit-analyze",text:e.panel.t("johannschopplich.seo-audit.analyze"),variant:"filled",size:"sm",theme:"positive",disabled:e.isGenerating},on:{click:function(t){return e.analyze()}}})],1),e.report?n("div",[n("k-box",{class:[e.isGenerating&&"ksr-cusor-wait ksr-pointer-events-none ksr-animate-pulse"],staticStyle:{"--link-color":"var(--color-text)"},attrs:{theme:"passive"}},[n("k-text",{staticClass:"ksr-space-y-4",class:[e.isGenerating&&"ksr-opacity-50"]},[e.report.result.seo.length>0?n("div",s._l(e.report.result.seo,function(t,o){return n("div",{key:o},[n(e.SeoResultEntry,{attrs:{result:t,links:e.links}})],1)}),0):s._e(),e.report.result.readability.length>0?n("div",[n("k-label",{staticClass:"ksr-mb-1",style:{color:"var(--color-text)"}},[s._v(" "+s._s(e.panel.t("johannschopplich.seo-audit.readability"))+" ")]),s._l(e.report.result.readability,function(t,o){return n("div",{key:o},[n(e.SeoResultEntry,{attrs:{result:t,links:e.links}})],1)})],2):s._e()])],1),n("k-box",{staticClass:"ksr-border-transparent",attrs:{theme:"empty",icon:"clock"}},[s._v(" "+s._s(e.format(e.report.timestamp))+" ")])],1):s._e()],1)]):s._e()},mt=[],_t=z(yt,gt,mt,!1,null,null,null,null);const vt=_t.exports;window.panel.plugin("johannschopplich/seo-audit",{sections:{"seo-audit":vt,"playground-blueprint-code":me},icons:{"seo-audit-analyze":'<path d="M8 3a7 7 0 0 0 0 14h1.07a7.06 7.06 0 0 1 0-2H8A5 5 0 0 1 8 5h8a5 5 0 0 1 4.9 6a7.021 7.021 0 0 1 1.426 2A7 7 0 0 0 16 3zm8 10a3 3 0 1 0 0 6a3 3 0 0 0 0-6m-5 3a5 5 0 1 1 9.172 2.757l2.535 2.536l-1.414 1.414l-2.536-2.535A5 5 0 0 1 11 16" />'}})})();
