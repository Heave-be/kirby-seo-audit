(function(){"use strict";const a=window.Vue;function O(){return window.panel}function U(){return O().api}function ce(){const r=U();return{load:({parent:s,name:e})=>r.get(`${s}/sections/${e}`)}}function q(){var n;return((n=a.getCurrentInstance())==null?void 0:n.proxy).$store}const $=a.computed;a.customRef,a.defineAsyncComponent,a.defineComponent,a.effectScope,a.getCurrentInstance,a.getCurrentScope,a.h,a.inject,a.isProxy,a.isReactive,a.isReadonly,a.isRef,a.isShallow,a.markRaw,a.nextTick,a.onActivated,a.onBeforeMount,a.onBeforeUnmount,a.onBeforeUpdate,a.onDeactivated,a.onErrorCaptured,a.onMounted,a.onRenderTracked,a.onRenderTriggered,a.onScopeDispose,a.onServerPrefetch,a.onUnmounted,a.onUpdated,a.provide,a.proxyRefs,a.reactive,a.readonly;const v=a.ref;a.shallowReactive,a.shallowReadonly,a.shallowRef,a.toRaw,a.toRef,a.toRefs,a.triggerRef,a.unref,a.useAttrs,a.useCssModule,a.useCssVars,a.useListeners,a.useSlots;const ue=a.watch;a.watchEffect,a.watchPostEffect,a.watchSyncEffect;const fe={blueprint:String,lock:[Boolean,Object],help:String,name:String,parent:String,timestamp:Number};function I(r,n,s,e,t,i,c,f){var o=typeof r=="function"?r.options:r;n&&(o.render=n,o.staticRenderFns=s,o._compiled=!0),e&&(o.functional=!0),i&&(o._scopeId="data-v-"+i);var u;if(c?(u=function(l){l=l||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!l&&typeof __VUE_SSR_CONTEXT__<"u"&&(l=__VUE_SSR_CONTEXT__),t&&t.call(this,l),l&&l._registeredComponents&&l._registeredComponents.add(c)},o._ssrRegister=u):t&&(u=f?function(){t.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:t),u)if(o.functional){o._injectStyles=u;var h=o.render;o.render=function(m,g){return u.call(g),h(m,g)}}else{var d=o.beforeCreate;o.beforeCreate=d?[].concat(d,u):[u]}return{exports:r,options:o}}const de=["TaxonomyTextLengthAssessment","UrlLengthAssessment","UrlStopWordsAssessment","SingleH1Assessment"],he={FleschReadingEaseAssessment:"fleschReading",SentenceLengthInTextAssessment:"sentenceLength"},pe=["FunctionWordsInKeyphraseAssessment","IntroductionKeywordAssessment","KeyphraseLengthAssessment","KeywordDensityAssessment","KeyphraseDistributionAssessment","MetaDescriptionKeywordAssessment","SubheadingsKeywordAssessment","TitleKeywordAssessment","UrlKeywordAssessment"],L=Object.freeze({af:"af-ZA",ar:"ar-SA",az:"az-Latn-AZ",be:"be-BY",bg:"bg-BG",ca:"ca-ES",cs:"cs-CZ",da:"da-DK",de:"de-DE",dv:"dv-MV",el:"el-GR",en:"en-US",es:"es-ES",et:"et-EE",eu:"eu-ES",fa:"fa-IR",fi:"fi-FI",fo:"fo-FO",fr:"fr-FR",gl:"gl-ES",gu:"gu-IN",he:"he-IL",hi:"hi-IN",hr:"hr-HR",hu:"hu-HU",hy:"hy-AM",id:"id-ID",is:"is-IS",it:"it-IT",ja:"ja-JP",ka:"ka-GE",kk:"kk-KZ",kn:"kn-IN",ko:"ko-KR",kok:"kok-IN",ky:"ky-KG",lt:"lt-LT",lv:"lv-LV",mk:"mk-MK",mn:"mn-MN",mr:"mr-IN",ms:"ms-MY",nl:"nl-NL",no:"nb-NO",pa:"pa-IN",pl:"pl-PL",pt:"pt-BR",ro:"ro-RO",ru:"ru-RU",sa:"sa-IN",sk:"sk-SK",sl:"sl-SI",sq:"sq-AL",sr:"sr-Latn-CS",sv:"sv-SE",sw:"sw-KE",syr:"syr-SY",ta:"ta-IN",te:"te-IN",th:"th-TH",tr:"tr-TR",tt:"tt-RU",uk:"uk-UA",ur:"ur-PK",uz:"uz-Latn-UZ",vi:"vi-VN"}),ye=["error","warn","info","debug"],ge="kirby$seo-audit$";class me{constructor(){this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c0392b",1:"#f39c12",2:"#00BCD4"},this.typeColorMap={success:"#2ecc71"}}_getLogFn(n){return n<1?console.error:console.log}log(n){const s=this._getLogFn(n.level),e=n.type==="log"?"":n.type,t=n.tag||"",c=`
  background: ${this.typeColorMap[n.type]||this.levelColorMap[n.level]||this.defaultColor};
  border-radius: 0.5em;
  color: white;
  font-weight: bold;
  padding: 2px 0.5em;
`.trimStart(),f=`%c${[t,e].filter(Boolean).join(":")}`;typeof n.args[0]=="string"?s(`${f}%c ${n.args[0]}`,c,"",...n.args.slice(1)):s(f,c,...n.args)}}const _e={error:0,warn:1,info:2};function ve(r){const n=new me;return new Proxy({},{get(s,e){return(...t)=>{n.log({level:_e[e],type:e,tag:r,args:t})}}})}let Se;function be(){return Se??(Se=ve("seo-audit"))}let H=[];const F=new Map;async function we(r){if(!Array.isArray(r))throw new TypeError("Expected an array of assets");H.length>0||(H=r)}function Ae(r){if(H.length===0)throw new Error("Plugin assets are not registered");const n=H.find(s=>s.filename===r);if(!n)throw new Error(`Plugin asset "${r}" not found`);return n}async function z(r){if(r.endsWith(".js")||(r+=".js"),F.has(r))return F.get(r);const s=await import(Ae(r).url);return F.set(r,s),s}async function W(r){const n=await r;return n.default||n}var G={};Object.defineProperty(G,"__esModule",{value:!0});var K=G.default={sentenceLength:{recommendedWordCount:20,slightlyTooMany:25,farTooMany:30},fleschReading:{borders:{veryEasy:90,easy:80,fairlyEasy:70,okay:60,fairlyDifficult:50,difficult:30,veryDifficult:0},scores:{veryEasy:9,easy:9,fairlyEasy:9,okay:9,fairlyDifficult:6,difficult:3,veryDifficult:3}}};const ke={AltAttributeAssessment:{_label:"Alt-Attribut für Bilder",na:"Der Text enthält keine Bilder.",none:"Keines der {imagesWithoutAltAttribute} Bilder enthält ein Attribut für alternativen Text. Fügen Sie sie hinzu!",some:"Einige der {imagesWithoutAltAttribute} Bilder enthalten ein Attribut für alternativen Text. Fügen Sie sie hinzu!",every:"Alle Bilder enthalten ein Attribut für alternativen Text. Gute Arbeit!"},HeadingStructureOrderAssessment:{_label:"Reihenfolge der Überschriften",sequential:"Die Überschriftenstruktur ist in sequenzieller Reihenfolge. Gute Arbeit!",nonSequential:"Die Überschriftenstruktur ist nicht in sequenzieller Reihenfolge. Korrigieren Sie Ihre Überschriftenstruktur!"},SingleH1Assessment:{_label:"Einzelne H1",one:"Der Text enthält einen H1-Tag. Gute Arbeit!",multiple:"Der Text enthält mehrere H1-Tags. Überdenken Sie Ihre Überschriftenstruktur!",none:"Der Text enthält keinen H1-Tag. Fügen Sie ihn hinzu!"}},xe={AltAttributeAssessment:{_label:"Image alt attribute",na:"The text doesn't contain any images.",none:"None of the {imagesWithoutAltAttribute} images contain an alternative text attribute. Add them!",some:"Some of the {imagesWithoutAltAttribute} images contain an alternative text attribute. Add them!",every:"All images contain an alternative text attribute. Good job!"},HeadingStructureOrderAssessment:{_label:"Heading structure",sequential:"The heading structure is in sequential order. Good job!",nonSequential:"The heading structure is not in sequential order. Fix your heading structure!"},SingleH1Assessment:{_label:"Single H1",one:"The text contains a single H1 tag. Good job!",multiple:"The text contains multiple H1 tags. Rethink your heading structure!",none:"The text contains no H1 tag. Add it!"}};function V(r,n,s){if(!r)return s;let e,t;if(Array.isArray(n)?e=[...n]:typeof n=="string"?e=n.split("."):typeof n=="symbol"&&(e=[n]),!Array.isArray(e))throw new TypeError(`Expected props to be an array, a string or a symbol, got ${typeof e}`);for(;e.length;)if(t=e.shift(),!r||(r=r[t],r===void 0))return s;return r}function Re(r,n,s){return r.replace(/{([\w\d]+)}/g,(e,t)=>n[t.toLowerCase()]||((typeof s=="function"?s(t):s)??t))}function Be({htmlDocument:r,contentSelector:n}){const s=P(`${n} h1`,r);return{score:s.length===1?9:3,translation:s.length===1?"one":s.length>1?"multiple":"none"}}function Ce({htmlDocument:r,contentSelector:n}){const s=P(`${n} img`,r);if(s.length===0)return{score:9,translation:"na"};const t=s.filter(i=>i.getAttribute("alt")===null).length;return{score:t===s.length||t>0?3:9,translation:t===s.length?"none":t>0?"some":"every",...t>0&&{context:{imagesWithoutAltAttribute:t}}}}function Te({htmlDocument:r,contentSelector:n}){const s=P(`${n} h1, ${n} h2, ${n} h3, ${n} h4, ${n} h5, ${n} h6`,r);let e=0;const t=[];for(const c of s){const f=Number.parseInt(c.tagName.substring(1),10);f-e>1&&t.push(c),e=f}const i=t.length===0;return{score:i?9:3,translation:i?"sequential":"nonSequential",...!i&&{details:{text:`<ul>${t.map(c=>`<li><strong>${c.tagName}</strong>: ${c.innerText}</li>`)}</ul>`}}}}function P(r,n){return Array.from(n.querySelectorAll(r))}const Y={de:ke,en:xe},Ee={seo:{AltAttributeAssessment:Ce,HeadingStructureOrderAssessment:Te,SingleH1Assessment:Be}};function $e({htmlDocument:r,contentSelector:n,assessments:s,locale:e}){const t=Y[e]||Y.en,i={};for(const[c,f]of Object.entries(Ee)){const o=[];for(const[u,h]of Object.entries(f)){if(s.length>0&&!s.includes(u.toLowerCase()))continue;const{score:d,translation:l,context:m={},details:g}=h({htmlDocument:r,contentSelector:n}),A=V(t,`${u}.${l}`);if(!A)continue;const w=V(t,`${u}._label`,u),_=Object.fromEntries(Object.entries(m).map(([k,b])=>[k.toLowerCase(),b]));o.push({score:d,rating:J(d),text:`${w}: ${Re(A,_)}`,details:g})}i[c]=o}return i}async function Le({htmlDocument:r,contentSelector:n,options:s,translations:e}){var l;const t=await z("yoastseo"),{Jed:i}=await z("jed"),c=await W(z("string-pixel-width")),f=((l=r.querySelector(n))==null?void 0:l.innerHTML)||"",o=new t.Paper(f,{keyword:s.keyword,synonyms:s.synonyms.join(","),url:new URL(s.url).pathname,permalink:s.url,title:s.title,titleWidth:s.title?c(s.title,{font:"arial",size:20}):void 0,description:s.description,locale:s.langCulture.replace("-","_")}),u=new t.Researcher(o),h=new i({domain:"js-text-analysis",locale_data:{"js-text-analysis":e||{"":{}}}}),d=Object.entries(t.assessments).reduce((m,[g,A])=>{for(const[w,_]of Object.entries(A))if(!de.includes(w)&&!(!s.keyword&&s.assessments.length===0&&pe.includes(w))&&!(s.assessments.length>0&&!s.assessments.includes(w.toLowerCase()))){if(typeof _=="object"&&Object.prototype.hasOwnProperty.call(_,"getResult")){const k=_.getResult(o,u,h);m[g].push(k)}else if(typeof _=="function"){const k=he[w],b=(K==null?void 0:K[k])||{},C=new _(b).getResult(o,u,h);m[g].push(C)}}return m},{seo:[],readability:[]});for(const m of Object.keys(d))d[m]=d[m].filter(g=>g.text).map(g=>({score:g.score,rating:J(g.score),text:g.text}));return d}function J(r){return r===-1?"error":r===0?"feedback":r<=4?"bad":r<=7?"ok":r>7?"good":""}async function Oe(r){var c,f,o;const s=new DOMParser().parseFromString(r,"text/html");for(const u of Array.from(s.body.querySelectorAll("script, style")))u.remove();let e=s.documentElement.lang??L.en;e.includes("-")||(e=(L==null?void 0:L[e.toLowerCase()])??L.en);const t=s.title||((c=s.querySelector("h1"))==null?void 0:c.innerText)||((f=s.querySelector("h2"))==null?void 0:f.innerText)||"",i=((o=s.querySelector('meta[name="description"]'))==null?void 0:o.content)||"";return{htmlDocument:s,locale:e,title:t,description:i}}function He(){const r=O(),n=q();return $(()=>n.getters["content/values"]()),{generateReport:async(e,t,i)=>{const c=await W(z("yoastseo-translations"));i.assessments=i.assessments.map(d=>{let l=d.toLowerCase();return l.endsWith("assessment")||(l+="assessment"),l});const f=r.translation.code,o={seo:[],readability:[]},u=$e({htmlDocument:e,contentSelector:t,assessments:i.assessments,locale:f});for(const[d,l]of Object.entries(u))o[d]=o[d].concat(l);const h=await Le({htmlDocument:e,contentSelector:t,options:i,translations:c[f]});for(const[d,l]of Object.entries(h))o[d]=o[d].concat(l);return o}}}const Z=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function ze(r,n){n?n={...Z,...n}:n=Z;const s=X(n);return s.dispatch(r),s.toString()}const Me=Object.freeze(["prototype","__proto__","constructor"]);function X(r){let n="",s=new Map;const e=t=>{n+=t};return{toString(){return n},getContext(){return s},dispatch(t){return r.replacer&&(t=r.replacer(t)),this[t===null?"null":typeof t](t)},object(t){if(t&&typeof t.toJSON=="function")return this.object(t.toJSON());const i=Object.prototype.toString.call(t);let c="";const f=i.length;f<10?c="unknown:["+i+"]":c=i.slice(8,f-1),c=c.toLowerCase();let o=null;if((o=s.get(t))===void 0)s.set(t,s.size);else return this.dispatch("[CIRCULAR:"+o+"]");if(typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(t))return e("buffer:"),e(t.toString("utf8"));if(c!=="object"&&c!=="function"&&c!=="asyncfunction")this[c]?this[c](t):r.ignoreUnknown||this.unkown(t,c);else{let u=Object.keys(t);r.unorderedObjects&&(u=u.sort());let h=[];r.respectType!==!1&&!ee(t)&&(h=Me),r.excludeKeys&&(u=u.filter(l=>!r.excludeKeys(l)),h=h.filter(l=>!r.excludeKeys(l))),e("object:"+(u.length+h.length)+":");const d=l=>{this.dispatch(l),e(":"),r.excludeValues||this.dispatch(t[l]),e(",")};for(const l of u)d(l);for(const l of h)d(l)}},array(t,i){if(i=i===void 0?r.unorderedArrays!==!1:i,e("array:"+t.length+":"),!i||t.length<=1){for(const o of t)this.dispatch(o);return}const c=new Map,f=t.map(o=>{const u=X(r);u.dispatch(o);for(const[h,d]of u.getContext())c.set(h,d);return u.toString()});return s=c,f.sort(),this.array(f,!1)},date(t){return e("date:"+t.toJSON())},symbol(t){return e("symbol:"+t.toString())},unkown(t,i){if(e(i),!!t&&(e(":"),t&&typeof t.entries=="function"))return this.array(Array.from(t.entries()),!0)},error(t){return e("error:"+t.toString())},boolean(t){return e("bool:"+t)},string(t){e("string:"+t.length+":"),e(t)},function(t){e("fn:"),ee(t)?this.dispatch("[native]"):this.dispatch(t.toString()),r.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(t.name)),r.respectFunctionProperties&&this.object(t)},number(t){return e("number:"+t)},xml(t){return e("xml:"+t.toString())},null(){return e("Null")},undefined(){return e("Undefined")},regexp(t){return e("regex:"+t.toString())},uint8array(t){return e("uint8array:"),this.dispatch(Array.prototype.slice.call(t))},uint8clampedarray(t){return e("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(t))},int8array(t){return e("int8array:"),this.dispatch(Array.prototype.slice.call(t))},uint16array(t){return e("uint16array:"),this.dispatch(Array.prototype.slice.call(t))},int16array(t){return e("int16array:"),this.dispatch(Array.prototype.slice.call(t))},uint32array(t){return e("uint32array:"),this.dispatch(Array.prototype.slice.call(t))},int32array(t){return e("int32array:"),this.dispatch(Array.prototype.slice.call(t))},float32array(t){return e("float32array:"),this.dispatch(Array.prototype.slice.call(t))},float64array(t){return e("float64array:"),this.dispatch(Array.prototype.slice.call(t))},arraybuffer(t){return e("arraybuffer:"),this.dispatch(new Uint8Array(t))},url(t){return e("url:"+t.toString())},map(t){e("map:");const i=[...t];return this.array(i,r.unorderedSets!==!1)},set(t){e("set:");const i=[...t];return this.array(i,r.unorderedSets!==!1)},file(t){return e("file:"),this.dispatch([t.name,t.size,t.type,t.lastModfied])},blob(){if(r.ignoreUnknown)return e("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},domwindow(){return e("domwindow")},bigint(t){return e("bigint:"+t.toString())},process(){return e("process")},timer(){return e("timer")},pipe(){return e("pipe")},tcp(){return e("tcp")},udp(){return e("udp")},tty(){return e("tty")},statwatcher(){return e("statwatcher")},securecontext(){return e("securecontext")},connection(){return e("connection")},zlib(){return e("zlib")},context(){return e("context")},nodescript(){return e("nodescript")},httpparser(){return e("httpparser")},dataview(){return e("dataview")},signal(){return e("signal")},fsevent(){return e("fsevent")},tlswrap(){return e("tlswrap")}}}const Q="[native code] }",Ne=Q.length;function ee(r){return typeof r!="function"?!1:Function.prototype.toString.call(r).slice(-Ne)===Q}class R{constructor(n,s){n=this.words=n||[],this.sigBytes=s===void 0?n.length*4:s}toString(n){return(n||Ie).stringify(this)}concat(n){if(this.clamp(),this.sigBytes%4)for(let s=0;s<n.sigBytes;s++){const e=n.words[s>>>2]>>>24-s%4*8&255;this.words[this.sigBytes+s>>>2]|=e<<24-(this.sigBytes+s)%4*8}else for(let s=0;s<n.sigBytes;s+=4)this.words[this.sigBytes+s>>>2]=n.words[s>>>2];return this.sigBytes+=n.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new R([...this.words])}}const Ie={stringify(r){const n=[];for(let s=0;s<r.sigBytes;s++){const e=r.words[s>>>2]>>>24-s%4*8&255;n.push((e>>>4).toString(16),(e&15).toString(16))}return n.join("")}},Fe={stringify(r){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=[];for(let e=0;e<r.sigBytes;e+=3){const t=r.words[e>>>2]>>>24-e%4*8&255,i=r.words[e+1>>>2]>>>24-(e+1)%4*8&255,c=r.words[e+2>>>2]>>>24-(e+2)%4*8&255,f=t<<16|i<<8|c;for(let o=0;o<4&&e*8+o*6<r.sigBytes*8;o++)s.push(n.charAt(f>>>6*(3-o)&63))}return s.join("")}},Ke={parse(r){const n=r.length,s=[];for(let e=0;e<n;e++)s[e>>>2]|=(r.charCodeAt(e)&255)<<24-e%4*8;return new R(s,n)}},Pe={parse(r){return Ke.parse(unescape(encodeURIComponent(r)))}};class De{constructor(){this._data=new R,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=512/32}reset(){this._data=new R,this._nDataBytes=0}_append(n){typeof n=="string"&&(n=Pe.parse(n)),this._data.concat(n),this._nDataBytes+=n.sigBytes}_doProcessBlock(n,s){}_process(n){let s,e=this._data.sigBytes/(this.blockSize*4);n?e=Math.ceil(e):e=Math.max((e|0)-this._minBufferSize,0);const t=e*this.blockSize,i=Math.min(t*4,this._data.sigBytes);if(t){for(let c=0;c<t;c+=this.blockSize)this._doProcessBlock(this._data.words,c);s=this._data.words.splice(0,t),this._data.sigBytes-=i}return new R(s,i)}}class je extends De{update(n){return this._append(n),this._process(),this}finalize(n){n&&this._append(n)}}const te=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Ue=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],B=[];class qe extends je{constructor(){super(...arguments),this._hash=new R([...te])}reset(){super.reset(),this._hash=new R([...te])}_doProcessBlock(n,s){const e=this._hash.words;let t=e[0],i=e[1],c=e[2],f=e[3],o=e[4],u=e[5],h=e[6],d=e[7];for(let l=0;l<64;l++){if(l<16)B[l]=n[s+l]|0;else{const b=B[l-15],C=(b<<25|b>>>7)^(b<<14|b>>>18)^b>>>3,x=B[l-2],T=(x<<15|x>>>17)^(x<<13|x>>>19)^x>>>10;B[l]=C+B[l-7]+T+B[l-16]}const m=o&u^~o&h,g=t&i^t&c^i&c,A=(t<<30|t>>>2)^(t<<19|t>>>13)^(t<<10|t>>>22),w=(o<<26|o>>>6)^(o<<21|o>>>11)^(o<<7|o>>>25),_=d+w+m+Ue[l]+B[l],k=A+g;d=h,h=u,u=o,o=f+_|0,f=c,c=i,i=t,t=_+k|0}e[0]=e[0]+t|0,e[1]=e[1]+i|0,e[2]=e[2]+c|0,e[3]=e[3]+f|0,e[4]=e[4]+o|0,e[5]=e[5]+u|0,e[6]=e[6]+h|0,e[7]=e[7]+d|0}finalize(n){super.finalize(n);const s=this._nDataBytes*8,e=this._data.sigBytes*8;return this._data.words[e>>>5]|=128<<24-e%32,this._data.words[(e+64>>>9<<4)+14]=Math.floor(s/4294967296),this._data.words[(e+64>>>9<<4)+15]=s,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function We(r){return new qe().finalize(r).toString(Fe)}function Ge(r,n={}){const s=typeof r=="string"?r:ze(r,n);return We(s).slice(0,10)}function Ve(...r){return`${ge}${Ge([...r])}`}const Ye={__name:"SeoRatingBubble",props:{rating:{type:String,required:!0}},setup(r){return{__sfc:!0,colorMap:{good:"green",ok:"orange",bad:"red"}}}};var Je=function(){var n=this,s=n._self._c,e=n._self._setupProxy;return s("div",{staticClass:"ksr-mt-[0.375em] ksr-h-[12px] ksr-w-[12px] ksr-rounded-full",style:{backgroundColor:`var(--color-${e.colorMap[n.rating]??"gray"}-600)`}},[s("span",{staticClass:"ksr-sr-only"},[n._v(n._s(n.rating))])])},Ze=[],Xe=I(Ye,Je,Ze,!1,null,null,null,null);const Qe=Xe.exports,et={__name:"SeoResultEntry",props:{result:{type:Object,required:!0},links:{type:Boolean,default:!0}},setup(r){const n=r,s=O(),e=$(()=>{const i=n.result.text.replace(/!$/,".");return n.links?i:t(i)});function t(i){return new DOMParser().parseFromString(i,"text/html").body.textContent||""}return{__sfc:!0,props:n,panel:s,parseText:e,stripTags:t,SeoRatingBubble:Qe}}};var tt=function(){var n=this,s=n._self._c,e=n._self._setupProxy;return s("div",{staticClass:"ksr-flex ksr-items-start ksr-gap-2"},[s(e.SeoRatingBubble,{staticClass:"ksr-mx-1 ksr-shrink-0",attrs:{rating:n.result.rating}}),s("div",[s("div",{domProps:{innerHTML:n._s(e.parseText)}}),n.result.details?s("details",[s("summary",[n._v(n._s(e.panel.t("johannschopplich.seo-audit.issues")))]),s("div",{staticClass:"ksr-mb-1 ksr-rounded-[var(--rounded)] ksr-bg-[var(--color-border)] ksr-py-0.5",domProps:{innerHTML:n._s(n.result.details.text)}})]):n._e()])],1)},st=[],nt=I(et,tt,st,!1,null,null,null,null);const rt=nt.exports,se={...fe},it=Object.assign({inheritAttrs:!1},{__name:"SeoAudit",props:se,setup(r){const n=r,s=O(),e=U(),t=q(),i=be(),{generateReport:c}=He(),f=Ve(s.view.path);let o;const u=v(),h=v(),d=v(),l=v(),m=v(),g=v(),A=v(),w=v(),_=v(),k=v(),b=v(),C=v(!1),x=v(!1),T=v(),D=$(()=>t.getters["content/values"]()),ne=$(()=>h.value||D.value[d.value]||""),re=$(()=>{if(!l.value&&!m.value)return[];const p=l.value||D.value[m.value];return Array.isArray(p)?p:typeof p=="string"?p.split(",").map(S=>S.trim()):[]});ue(()=>s.language.code,()=>{j()}),j(!0);const{format:ut}=new Intl.DateTimeFormat(s.translation.code.replace("_","-"),{dateStyle:"short",timeStyle:"short"});async function j(p=!1){const{load:S}=ce(),y=await S({parent:n.parent,name:n.name});if(p){if(u.value=ie(y.label)||s.t("johannschopplich.seo-audit.label"),d.value=y.keyphraseField,m.value=y.synonymsField,g.value=y.assessments,A.value=y.contentSelector,w.value=y.links,_.value=y.persisted,k.value=ye.indexOf(y.config.logLevel??y.logLevel),b.value=y.config,we(y.assets),_.value){const M=JSON.parse(localStorage.getItem(f));M&&(T.value=M)}C.value=!0}h.value=y.keyphrase,l.value=y.synonyms,o=(await e.get(s.view.path,{select:"previewUrl"})).previewUrl}function ie(p){return!p||typeof p=="string"?p:p[s.translation.code]??Object.values(p)[0]}async function ft(){if(!o){s.notification.error(s.t("johannschopplich.seo-audit.error.missingPreviewUrl"));return}const p=o;s.isLoading=!0,x.value=!0;try{const S=await ae(p),{htmlDocument:y,locale:E,title:M,description:dt}=await Oe(S),N=await c(y,A.value,{assessments:g.value,url:p,title:M,description:dt,langCulture:E,keyword:ne.value,synonyms:re.value});for(const le of Object.keys(N))N[le]=oe(N[le]);T.value={result:N,timestamp:Date.now()},_.value&&localStorage.setItem(f,JSON.stringify(T.value))}catch(S){console.error(S),s.notification.error(s.t("johannschopplich.seo-audit.analyze.error"))}s.isLoading=!1,x.value=!1,s.notification.success({icon:"check",message:s.t("johannschopplich.seo-audit.analyze.success")})}function oe(p){return p.toSorted((S,y)=>S.rating==="feedback"?-1:y.rating==="feedback"?1:S.score<y.score?-1:1)}async function ae(p){if(location.origin===new URL(p).origin){const E=await fetch(p);return E.ok||i.warn(`Response status code ${E.status} for URL ${p} is an indication that the error page is being analyzed.`),await E.text()}const{code:S,html:y}=await e.post("__seo-audit__/proxy",{url:p});return S!==200&&i.warn(`Response status code ${S} for URL ${p} is an indication that the error page is being analyzed.`),y}return{__sfc:!0,propsDefinition:se,props:n,panel:s,api:e,store:t,logger:i,generateReport:c,storageKey:f,previewUrl:o,label:u,keyphrase:h,keyphraseField:d,synonyms:l,synonymsField:m,assessments:g,contentSelector:A,links:w,persisted:_,logLevel:k,config:b,isInitialized:C,isGenerating:x,report:T,currentContent:D,resolvedKeyphrase:ne,resolvedSynonyms:re,format:ut,updateSectionData:j,t:ie,analyze:ft,sortResults:oe,fetchHtml:ae,SeoResultEntry:rt}}});var ot=function(){var n=this,s=n._self._c,e=n._self._setupProxy;return e.isInitialized?s("k-section",{attrs:{label:e.label}},[s("div",{staticClass:"ksr-space-y-4"},[s("k-button-group",{attrs:{layout:"collapsed"}},[s("k-button",{attrs:{icon:e.isGenerating?"loader":"seo-audit-analyze",text:e.panel.t("johannschopplich.seo-audit.analyze"),variant:"filled",size:"sm",theme:"positive",disabled:e.isGenerating},on:{click:function(t){return e.analyze()}}})],1),e.report?s("div",[s("k-box",{class:[e.isGenerating&&"ksr-cusor-wait ksr-pointer-events-none ksr-animate-pulse"],staticStyle:{"--link-color":"var(--color-text)"},attrs:{theme:"passive"}},[s("k-text",{staticClass:"ksr-space-y-4",class:[e.isGenerating&&"ksr-opacity-50"]},[e.report.result.seo.length>0?s("div",n._l(e.report.result.seo,function(t,i){return s("div",{key:i},[s(e.SeoResultEntry,{attrs:{result:t,links:e.links}})],1)}),0):n._e(),e.report.result.readability.length>0?s("div",[s("k-label",{staticClass:"ksr-mb-1",style:{color:"var(--color-text)"}},[n._v(" "+n._s(e.panel.t("johannschopplich.seo-audit.readability"))+" ")]),n._l(e.report.result.readability,function(t,i){return s("div",{key:i},[s(e.SeoResultEntry,{attrs:{result:t,links:e.links}})],1)})],2):n._e()])],1),s("k-box",{staticClass:"ksr-border-transparent",attrs:{theme:"empty",icon:"clock"}},[n._v(" "+n._s(e.format(e.report.timestamp))+" ")])],1):n._e()],1)]):n._e()},at=[],lt=I(it,ot,at,!1,null,null,null,null);const ct=lt.exports;window.panel.plugin("johannschopplich/seo-audit",{sections:{"seo-audit":ct},icons:{"seo-audit-analyze":'<path d="M8 3a7 7 0 0 0 0 14h1.07a7.06 7.06 0 0 1 0-2H8A5 5 0 0 1 8 5h8a5 5 0 0 1 4.9 6a7.021 7.021 0 0 1 1.426 2A7 7 0 0 0 16 3zm8 10a3 3 0 1 0 0 6a3 3 0 0 0 0-6m-5 3a5 5 0 1 1 9.172 2.757l2.535 2.536l-1.414 1.414l-2.536-2.535A5 5 0 0 1 11 16" />'}})})();
